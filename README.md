# leetcode73. 矩阵置零：给定一个 m x n 的矩阵，如果一个元素为 0 ，则将其所在行和列的所有元素都设为 0 。请使用 原地 算法。

---

## 进阶要求图片：

<img width="1129" height="301" alt="image" src="https://github.com/user-attachments/assets/15b775fd-c159-437b-b2f8-4b3835a2f58b" />

---

## 下面开始解答：

好，这一题是 **LeetCode 73：矩阵置零**，而且明确要求 **原地算法 + 常数空间**。
下面**严格按照给定的 6 个步骤顺序**，一条都不省。

---

## （0）【纯人话、不写代码】讲清楚解题思路（零基础版）

### 题目在干什么？

有一个“表格”（矩阵），里面全是数字。

**规则只有一句话：**

> **只要某个位置是 0，那么这一整行 + 这一整列，全部变成 0。**

---

### 核心思路（这道题的“精髓”）

**把矩阵本身，当作“记号本子”来用。**

具体做法是：

#### 关键技巧（必须背）

> **用第 0 行，记录“哪一列要清零”**
> 
> **用第 0 列，记录“哪一行要清零”**

---

### 思路分成 4 步（纯逻辑）

#### 第 1 步：先单独判断

* 第 0 行里有没有 0
* 第 0 列里有没有 0

⚠️ 因为后面要“借用”它们做标记，必须提前记住它们“原来该不该清零”

---

#### 第 2 步：扫描矩阵（从第 1 行、第 1 列开始）

如果在 `(i, j)` 位置看到 `0`：

* 在 **第 i 行的“标记位”**：`matrix[i][0] = 0`
* 
* 在 **第 j 列的“标记位”**：`matrix[0][j] = 0`

👉 相当于说：
“第 i 行将来要清零”
“第 j 列将来要清零”

---

#### 第 3 步：根据标记，清零内部区域

对于 `(i, j)`（不包括第 0 行 / 第 0 列）：

* 只要：

  * `matrix[i][0] == 0`（这一行要清）
  * 或 `matrix[0][j] == 0`（这一列要清）
* 那么 `(i, j)` 直接变成 0

---

#### 第 4 步：最后再处理第 0 行 / 第 0 列

* 如果最开始发现：

  * 第 0 行本来就有 0 → 整行清零；
  * 第 0 列本来就有 0 → 整列清零

---

## （1）Python3 标准答案（逐行中文注释）

```python
class Solution:
    def setZeroes(self, matrix):
        m = len(matrix)                     # 获取矩阵的行数
        n = len(matrix[0])                  # 获取矩阵的列数

        first_row_zero = False              # 记录第 0 行是否需要清零
        first_col_zero = False              # 记录第 0 列是否需要清零

        # 检查第 0 行是否包含 0
        for j in range(n):
            if matrix[0][j] == 0:
                first_row_zero = True

        # 检查第 0 列是否包含 0
        for i in range(m):
            if matrix[i][0] == 0:
                first_col_zero = True

        # 用第 0 行和第 0 列作为标记
        for i in range(1, m):
            for j in range(1, n):
                if matrix[i][j] == 0:
                    matrix[i][0] = 0        # 标记该行需要清零
                    matrix[0][j] = 0        # 标记该列需要清零

        # 根据标记清零内部区域
        for i in range(1, m):
            for j in range(1, n):
                if matrix[i][0] == 0 or matrix[0][j] == 0:
                    matrix[i][j] = 0

        # 如果第 0 行需要清零
        if first_row_zero:
            for j in range(n):
                matrix[0][j] = 0

        # 如果第 0 列需要清零
        if first_col_zero:
            for i in range(m):
                matrix[i][0] = 0
```

---

## （2）逐字逐句解释代码（零基础，极慢速）

### `class Solution:`

* `class`：表示“定义一个类”
* `Solution`：类的名字（题目规定）
* 冒号 `:`：表示“下面的内容属于这个类”

---

### `def setZeroes(self, matrix):`

* `def`：定义一个函数
* `setZeroes`：函数名（题目规定）
* `self`：代表这个函数属于这个类（语法要求）
* `matrix`：传进来的“矩阵”
* 括号 `()`：函数的输入
* 冒号 `:`：函数体开始

---

### `m = len(matrix)`

* `len`：长度
* `matrix`：整个矩阵（行组成的列表）
* `m`：矩阵有多少行

---

### `n = len(matrix[0])`

* `matrix[0]`：第 0 行
* `len(matrix[0])`：这一行有多少列
* `n`：矩阵的列数

---

### `first_row_zero = False`

* 定义一个“开关”
* 含义：
  👉 “第 0 行原本要不要清零？”
* `False`：先假设不用

---

### `first_col_zero = False`

* 同理
* 表示第 0 列是否需要清零

---

### 扫描第 0 行

```python
for j in range(n):
```

* `for`：循环
* `j`：列下标
* `range(n)`：从 `0` 到 `n-1`

---

```python
if matrix[0][j] == 0:
```

* `matrix[0][j]`：第 0 行第 j 列
* `==`：判断是否相等
* 如果是 0 → 说明第 0 行将来必须清零



---

```python
first_row_zero = True
```

* 打开“第 0 行清零”的开关

---

### 扫描第 0 列（完全同理）

---

### 标记阶段（核心）

```python
if matrix[i][j] == 0:
```

* 发现一个真正的 0

```python
matrix[i][0] = 0
```

* 在这一行的“标记位”写 0
* 表示：**这一整行以后要清零**

```python
matrix[0][j] = 0
```

* 在这一列的“标记位”写 0
* 表示：**这一整列以后要清零**

---

### 根据标记清零

```python
if matrix[i][0] == 0 or matrix[0][j] == 0:
```

* `or`：只要有一个条件满足
* 行要清 或 列要清
* 当前格子就清零

---

### 最后处理第 0 行 / 列

* 因为它们被“借用过”
* 必须最后单独处理

---

## （3）完整数值算例 + 变量变化表

### 输入

```
matrix =
[
 [1, 1, 1],
 [1, 0, 1],
 [1, 1, 1]
]
```

---

### 第一步：扫描第 0 行 / 列

| 项目        | 结果    |
| --------- | ----- |
| 第 0 行有 0？ | False |
| 第 0 列有 0？ | False |

---

### 第二步：标记

发现 `(1,1) == 0`

| 操作      | 结果矩阵               |
| ------- | ------------------ |
| 标记第 1 行 | `matrix[1][0] = 0` |
| 标记第 1 列 | `matrix[0][1] = 0` |

```
[
 [1, 0, 1],
 [0, 0, 1],
 [1, 1, 1]
]
```

---

### 第三步：清零内部区域【注意，这里看的行标记和列标记，不需要对应到矩阵里面的具体数字】

| i【代表列】 | j【代表行】 | 行标记 | 列标记 | 结果 |
| - | - | --- | --- | -- |
| 1 | 1 | 0   | 0   | 清零 |
| 1 | 2 | 0   | 1   | 清零 |
| 2 | 1 | 1   | 0   | 清零 |

结果：

```
[
 [1, 0, 1],
 [0, 0, 0],
 [1, 0, 1]
]
```

---

### 第四步：第 0 行 / 列

* 两个开关都是 False
* 不动

---

## （4）关键表达式来源解释

### `matrix[i][0]` 的意义

* 这是“第 i 行的标记位”
* 用来记住：“这一整行以后要清零”

---

### `matrix[0][j]` 的意义

* 这是“第 j 列的标记位”
* 用来记住：“这一整列以后要清零”

---

### 为什么从 `i = 1` 开始？

* 因为第 0 行 / 列是“标记区”
* 不能被提前破坏


---

## （6）“背诵法则”（直接背下来就会）

> **矩阵置零四步法（必背）**

1️⃣ 先检查第 0 行、第 0 列是否有 0
2️⃣ 用第 0 行记列，用第 0 列记行
3️⃣ 根据标记清零内部
4️⃣ 最后处理第 0 行、第 0 列

> **口诀版：**

> **“首行首列做笔记，内部看标记清零，首行首列最后补”**

---


